{% extends "base.html" %}

{% block content %}
<div class="grid grid-cols-1 gap-4">

    <!-- My Libraries Section -->
    <div class="bg-white shadow rounded-lg sm:py-2">
        <a href="{{ url_for('dashboard.libraries') }}">
          <h2 class="text-lg font-semibold mb-4">Bibliotecas</h2>
        </a>
        <div class="grid grid-cols-2 gap-4">
            <!-- My Libraries -->
            <div>
                <h3 class="font-medium text-gray-700 mb-2">Suas</h3>
                <div class="grid grid-cols-2 grid-rows-2 border border-gray-500">
                    {% for item in range(4) %}
                      <a href="{{url_for('library.main', lib_id=item)}}" class="bg-gray-100 hover:bg-gray-400 p-1 m-1 sm:p-2 sm:m-2">
                        <h4 class="font-medium">Teste</h4>
                        <p class="hidden sm:block text-left overflow-hidden text-xs text-gray-600">Lorem ipsum dolor sit.</p>
                      </a>
                    {% endfor %}
                    {% for library in libraries %}
                    <a href="/library/{{ library.id }}" class="block bg-gray-100 hover:bg-gray-200 p-4 rounded shadow">
                        <h4 class="font-medium">{{ library.name }}</h4>
                        <p class="text-sm text-gray-600">Lorem ipsum {{ library.books|length }}</p>
                    </a>
                    {% endfor %}
                </div>
            </div>

            <!-- Friends' Libraries -->
            <div>
                <h3 class="font-medium text-gray-700 mb-2">De Amigos</h3>
                <div class="grid grid-cols-2 grid-rows-2 border border-gray-500">
                    {% for item in range(4) %}
                      <a href="{{url_for('library.main', lib_id=item)}}" class="bg-gray-100 hover:bg-gray-400 p-1 m-1 sm:p-2 sm:m-2">
                        <h4 class="font-medium">Teste friends</h4>
                        <p class="hidden sm:block text-left overflow-hidden text-xs text-gray-600">Lorem ipsum dolor sit.</p>
                      </a>
                    {% endfor %}
                  <div class="space-y-2">
                      {% for library in friends_libraries %}
                      <a href="/library/{{ library.id }}" class="block bg-gray-100 hover:bg-gray-200 p-4 rounded shadow">
                          <h4 class="font-medium">{{ library.name }}</h4>
                          <p class="text-sm text-gray-600">Owner: {{ library.owner.username }}</p>
                      </a>
                      {% endfor %}
                  </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Borrowings Section -->
    <div class="bg-white shadow rounded-lg py-2">
        <a href="{{ url_for('dashboard.borrowings') }}">
          <h2 class="text-lg font-semibold mb-4">Empr√©stimos</h2>
        </a>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <h3 class="font-medium text-gray-700 mb-2">Seus</h3>
            <ul class="divide-y divide-gray-200 border border-gray-500">
              {% for borrowing in range(4) %}
              <li class="border-b bg-gray-100 hover:bg-gray-400 p-1 m-1">
                <p class="font-extralight">Teste</p>
                <p class="text-sm text-gray-600">De: userX</p>
                <p class="text-sm text-gray-600">Data: dayX</p>
              </li>
              {% endfor %}
            </ul>
            <ul class="divide-y divide-gray-200">
              {% for borrowing in borrowings %}
              <li class="py-2">
                <p class="font-medium">{{ borrowing.book.title }}</p>
                <p class="text-sm text-gray-600">From: {{ borrowing.lender.username }}</p>
                <p class="text-sm text-gray-600">Borrowed on: {{ borrowing.lend_date.strftime('%Y-%m-%d') }}</p>
              </li>
              {% endfor %}
            </ul>
          </div>
          <div>
            <h3 class="font-medium text-gray-700 mb-2">De Amigos</h3>
            <ul class="divide-y divide-gray-200 border border-gray-500">
              {% for borrowing in range(4) %}
              <li class="border-b bg-gray-100 hover:bg-gray-400 p-1 m-1">
                <p class="font-extralight">Teste</p>
                <p class="text-sm text-gray-600">De: userX</p>
                <p class="text-sm text-gray-600">Data: dayX</p>
              </li>
              {% endfor %}
            </ul>
            <ul class="divide-y divide-gray-200">
                {% for lending in lendings %}
                <li class="py-2">
                    <p class="font-medium">{{ lending.book.title }}</p>
                    <p class="text-sm text-gray-600">To: {{ lending.borrower.username }}</p>
                    <p class="text-sm text-gray-600">Lent on: {{ lending.lend_date.strftime('%Y-%m-%d') }}</p>
                </li>
                {% endfor %}
            </ul>
          </div>
        </div>
    </div>

    <!-- New Books Section -->
    <div class="bg-white shadow rounded-lg py-2">
        <h2 class="text-lg font-semibold mb-4">Adicionados Recentemente</h2>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 border border-gray-500">
            {% for book in range(4) %}
            <div class="bg-gray-100 hover:bg-gray-400 p-2 m-2 shadow">
                <h4 class="font-medium">Title</h4>
                <p class="text-sm text-gray-600">Author: Author</p>
                <p class="text-sm text-gray-600">Library: Library</p>
            </div>
            {% endfor %}
            {% for book in new_books %}
            <div class="bg-gray-100 hover:bg-gray-200 p-4 rounded shadow">
                <h4 class="font-medium">{{ book.title }}</h4>
                <p class="text-sm text-gray-600">Author: {{ book.author }}</p>
                <p class="text-sm text-gray-600">Library: {{ book.library.name }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
